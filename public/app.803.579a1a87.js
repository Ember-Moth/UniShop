"use strict";(self.webpackChunkunishop_web=self.webpackChunkunishop_web||[]).push([[803],{58324:function(ne,S,r){r.r(S),r.d(S,{default:function(){return ve}});var Q=r(97857),d=r.n(Q),k=r(15009),Z=r.n(k),de=r(99289),re=r.n(de),_e=r(68827),ce=r(56312),q=r(61204),me=r(56953),ue=r(54463),te=r(45977),fe=r(87536),ie=r(64712),B=r(53968),le=r(57636),K=r(87030),i=r(80499),z=r(27591),he=r(81225),a=r(85893);function ve(){var e=(0,_e.c)(85),s=(0,q.useIntl)(),oe=(0,he.mr)(),_=oe.register,o=oe.sendEmail,u,J;if(e[0]!==s){var V;e[3]===Symbol.for("react.memo_cache_sentinel")?(V=function(l){return l.password===l.password_confirmation},e[3]=V):V=e[3];var ge=B.Ryn({email:B.Dom(s.formatMessage({id:"auth.validation.email.invalid"})),code:B.Z_8().min(1,s.formatMessage({id:"auth.validation.code.required"})).regex(/^\d{4,6}$/,s.formatMessage({id:"auth.validation.code.format"})),password:B.Z_8().min(6,s.formatMessage({id:"auth.validation.password.minLength"})).max(32,s.formatMessage({id:"auth.validation.password.maxLength"})),password_confirmation:B.Z_8()}).refine(V,{message:s.formatMessage({id:"auth.validation.password.mismatch"}),path:["password_confirmation"]});J=fe.cI,u=(0,ce.F)(ge),e[0]=s,e[1]=u,e[2]=J}else u=e[1],J=e[2];var X;e[4]!==u?(X={resolver:u},e[4]=u,e[5]=X):X=e[5];var t=J(X),$;e[6]!==t||e[7]!==o||e[8]!==s?($=function(){var c=re()(Z()().mark(function l(){var n,ae;return Z()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,t.trigger("email");case 2:if(n=m.sent,n){m.next=5;break}return m.abrupt("return");case 5:return ae=t.getValues("email"),m.next=8,o.fetch({email:ae});case 8:o.data&&ie.Am.success(s.formatMessage({id:"auth.register.codeSentToast"}));case 9:case"end":return m.stop()}},l)}));return function(){return c.apply(this,arguments)}}(),e[6]=t,e[7]=o,e[8]=s,e[9]=$):$=e[9];var ee=$,F;e[10]!==_||e[11]!==s?(F=function(){var c=re()(Z()().mark(function l(n){return Z()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,_.fetch(n);case 2:_.data&&(ie.Am.success(s.formatMessage({id:"auth.register.successToast"})),q.history.push("/user/login"));case 3:case"end":return G.stop()}},l)}));return function(n){return c.apply(this,arguments)}}(),e[10]=_,e[11]=s,e[12]=F):F=e[12];var se=F,f;e[13]!==s?(f=s.formatMessage({id:"auth.register.title"}),e[13]=s,e[14]=f):f=e[14];var h;e[15]!==f?(h=(0,a.jsx)(K.ll,{className:"text-2xl font-bold",children:f}),e[15]=f,e[16]=h):h=e[16];var v;e[17]!==s?(v=s.formatMessage({id:"auth.register.description"}),e[17]=s,e[18]=v):v=e[18];var g;e[19]!==v?(g=(0,a.jsx)(K.SZ,{children:v}),e[19]=v,e[20]=g):g=e[20];var x;e[21]!==h||e[22]!==g?(x=(0,a.jsxs)(K.Ol,{className:"text-center space-y-2",children:[h,g]}),e[21]=h,e[22]=g,e[23]=x):x=e[23];var p;e[24]!==t||e[25]!==se?(p=t.handleSubmit(se),e[24]=t,e[25]=se,e[26]=p):p=e[26];var M;e[27]!==s?(M=function(l){var n=l.field;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:s.formatMessage({id:"auth.register.emailLabel"})}),(0,a.jsx)(i.NI,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(me.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(z.I,d()(d()({},n),{},{type:"email",placeholder:s.formatMessage({id:"auth.register.emailPlaceholder"}),className:"pl-10"}))]})}),(0,a.jsx)(i.zG,{})]})},e[27]=s,e[28]=M):M=e[28];var j;e[29]!==t.control||e[30]!==M?(j=(0,a.jsx)(i.Wi,{control:t.control,name:"email",render:M}),e[29]=t.control,e[30]=M,e[31]=j):j=e[31];var E;e[32]!==s||e[33]!==ee||e[34]!==o.loading||e[35]!==o.countdown?(E=function(l){var n=l.field;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:s.formatMessage({id:"auth.register.codeLabel"})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.NI,{children:(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(ue.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(z.I,d()(d()({},n),{},{type:"text",placeholder:s.formatMessage({id:"auth.register.codePlaceholder"}),className:"pl-10"}))]})}),(0,a.jsx)(le.z,{type:"button",variant:"outline",onClick:ee,disabled:o.loading||o.countdown>0,className:"whitespace-nowrap",children:o.loading?s.formatMessage({id:"auth.register.sending"}):o.countdown>0?"".concat(o.countdown,"s"):s.formatMessage({id:"auth.register.sendCode"})})]}),(0,a.jsx)(i.zG,{})]})},e[32]=s,e[33]=ee,e[34]=o.loading,e[35]=o.countdown,e[36]=E):E=e[36];var P;e[37]!==t.control||e[38]!==E?(P=(0,a.jsx)(i.Wi,{control:t.control,name:"code",render:E}),e[37]=t.control,e[38]=E,e[39]=P):P=e[39];var b;e[40]!==s?(b=function(l){var n=l.field;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:s.formatMessage({id:"auth.register.passwordLabel"})}),(0,a.jsx)(i.NI,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(te.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(z.I,d()(d()({},n),{},{type:"password",autoComplete:"new-password",placeholder:s.formatMessage({id:"auth.register.passwordPlaceholder"}),className:"pl-10"}))]})}),(0,a.jsx)(i.zG,{})]})},e[40]=s,e[41]=b):b=e[41];var D;e[42]!==t.control||e[43]!==b?(D=(0,a.jsx)(i.Wi,{control:t.control,name:"password",render:b}),e[42]=t.control,e[43]=b,e[44]=D):D=e[44];var O;e[45]!==s?(O=function(l){var n=l.field;return(0,a.jsxs)(i.xJ,{children:[(0,a.jsx)(i.lX,{children:s.formatMessage({id:"auth.register.confirmPasswordLabel"})}),(0,a.jsx)(i.NI,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(te.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(z.I,d()(d()({},n),{},{type:"password",placeholder:s.formatMessage({id:"auth.register.confirmPasswordPlaceholder"}),className:"pl-10",autoComplete:"new-password"}))]})}),(0,a.jsx)(i.zG,{})]})},e[45]=s,e[46]=O):O=e[46];var I;e[47]!==t.control||e[48]!==O?(I=(0,a.jsx)(i.Wi,{control:t.control,name:"password_confirmation",render:O}),e[47]=t.control,e[48]=O,e[49]=I):I=e[49];var C;e[50]!==_.loading||e[51]!==s?(C=_.loading?s.formatMessage({id:"auth.register.registering"}):s.formatMessage({id:"auth.register.register"}),e[50]=_.loading,e[51]=s,e[52]=C):C=e[52];var N;e[53]!==_.loading||e[54]!==C?(N=(0,a.jsx)(le.z,{type:"submit",className:"w-full",disabled:_.loading,children:C}),e[53]=_.loading,e[54]=C,e[55]=N):N=e[55];var Y;e[56]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t border-border"})}),e[56]=Y):Y=e[56];var L;e[57]!==s?(L=s.formatMessage({id:"auth.misc.or"}),e[57]=s,e[58]=L):L=e[58];var w;e[59]!==L?(w=(0,a.jsxs)("div",{className:"relative my-6",children:[Y,(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-card px-2 text-muted-foreground",children:L})})]}),e[59]=L,e[60]=w):w=e[60];var U;e[61]!==s?(U=s.formatMessage({id:"auth.register.haveAccount"}),e[61]=s,e[62]=U):U=e[62];var y;e[63]!==s?(y=s.formatMessage({id:"auth.register.loginNow"}),e[63]=s,e[64]=y):y=e[64];var R;e[65]!==y?(R=(0,a.jsx)(q.Link,{to:"/user/login",className:"text-primary hover:text-primary/80 transition-colors font-medium",children:y}),e[65]=y,e[66]=R):R=e[66];var T;e[67]!==U||e[68]!==R?(T=(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[U," ",R]})}),e[67]=U,e[68]=R,e[69]=T):T=e[69];var W;e[70]!==p||e[71]!==j||e[72]!==P||e[73]!==D||e[74]!==I||e[75]!==N||e[76]!==w||e[77]!==T?(W=(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[j,P,D,I,N,w,T]}),e[70]=p,e[71]=j,e[72]=P,e[73]=D,e[74]=I,e[75]=N,e[76]=w,e[77]=T,e[78]=W):W=e[78];var A;e[79]!==t||e[80]!==W?(A=(0,a.jsx)(K.aY,{children:(0,a.jsx)(i.l0,d()(d()({},t),{},{children:W}))}),e[79]=t,e[80]=W,e[81]=A):A=e[81];var H;return e[82]!==x||e[83]!==A?(H=(0,a.jsxs)(K.Zb,{children:[x,A]}),e[82]=x,e[83]=A,e[84]=H):H=e[84],H}},54463:function(ne,S,r){r.d(S,{Z:function(){return k}});var Q=r(91373);const d=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k=(0,Q.Z)("shield-check",d)}}]);
