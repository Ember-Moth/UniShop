"use strict";(self.webpackChunkunishop_web=self.webpackChunkunishop_web||[]).push([[677],{19252:function(k,G,r){r.d(G,{C:function(){return _}});var B=r(97857),M=r.n(B),S=r(13769),t=r.n(S),N=r(68827),$=r(67294),R=r(88426),x=r(12003),Z=r(72126),z=r(85893),p=["className","variant","asChild"],U=(0,x.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _(y){var n=(0,N.c)(12),b,j,E,D;if(n[0]!==y){var W=y;E=W.className,j=W.variant,b=W.asChild,D=t()(W,p),n[0]=y,n[1]=b,n[2]=j,n[3]=E,n[4]=D}else b=n[1],j=n[2],E=n[3],D=n[4];var P=b===void 0?!1:b,K=P?R.g7:"span",d;n[5]!==j||n[6]!==E?(d=(0,Z.cn)(U({variant:j}),E),n[5]=j,n[6]=E,n[7]=d):d=n[7];var a;return n[8]!==K||n[9]!==d||n[10]!==D?(a=(0,z.jsx)(K,M()({"data-slot":"badge",className:d},D)),n[8]=K,n[9]=d,n[10]=D,n[11]=a):a=n[11],a}},57636:function(k,G,r){r.d(G,{z:function(){return _}});var B=r(97857),M=r.n(B),S=r(13769),t=r.n(S),N=r(68827),$=r(67294),R=r(88426),x=r(12003),Z=r(72126),z=r(85893),p=["className","variant","size","asChild"],U=(0,x.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function _(y){var n=(0,N.c)(14),b,j,E,D,W;if(n[0]!==y){var P=y;D=P.className,j=P.variant,E=P.size,b=P.asChild,W=t()(P,p),n[0]=y,n[1]=b,n[2]=j,n[3]=E,n[4]=D,n[5]=W}else b=n[1],j=n[2],E=n[3],D=n[4],W=n[5];var K=b===void 0?!1:b,d=K?R.g7:"button",a;n[6]!==j||n[7]!==E||n[8]!==D?(a=(0,Z.cn)(U({variant:j,size:E,className:D})),n[6]=j,n[7]=E,n[8]=D,n[9]=a):a=n[9];var i;return n[10]!==d||n[11]!==a||n[12]!==W?(i=(0,z.jsx)(d,M()({"data-slot":"button",className:a},W)),n[10]=d,n[11]=a,n[12]=W,n[13]=i):i=n[13],i}},87030:function(k,G,r){r.d(G,{Ol:function(){return j},SZ:function(){return D},Zb:function(){return b},aY:function(){return P},eW:function(){return K},ll:function(){return E}});var B=r(97857),M=r.n(B),S=r(13769),t=r.n(S),N=r(68827),$=r(67294),R=r(72126),x=r(85893),Z=["className"],z=["className"],p=["className"],U=["className"],_=null,y=["className"],n=["className"];function b(d){var a=(0,N.c)(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=t()(f,Z),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=(0,R.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=(0,x.jsx)("div",M()({"data-slot":"card",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}function j(d){var a=(0,N.c)(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=t()(f,z),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=(0,R.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=(0,x.jsx)("div",M()({"data-slot":"card-header",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}function E(d){var a=(0,N.c)(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=t()(f,p),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=(0,R.cn)("leading-none font-semibold",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=(0,x.jsx)("div",M()({"data-slot":"card-title",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}function D(d){var a=(0,N.c)(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=t()(f,U),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=(0,R.cn)("text-muted-foreground text-sm",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=(0,x.jsx)("div",M()({"data-slot":"card-description",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}function W(d){var a=_c(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=_objectWithoutProperties(f,_),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=cn("col-start-2 row-span-2 row-start-1 self-start justify-self-end",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=_jsx("div",_objectSpread({"data-slot":"card-action",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}function P(d){var a=(0,N.c)(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=t()(f,y),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=(0,R.cn)("px-6",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=(0,x.jsx)("div",M()({"data-slot":"card-content",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}function K(d){var a=(0,N.c)(8),i,l;if(a[0]!==d){var f=d;i=f.className,l=t()(f,n),a[0]=d,a[1]=i,a[2]=l}else i=a[1],l=a[2];var o;a[3]!==i?(o=(0,R.cn)("flex items-center px-6 [.border-t]:pt-6",i),a[3]=i,a[4]=o):o=a[4];var s;return a[5]!==o||a[6]!==l?(s=(0,x.jsx)("div",M()({"data-slot":"card-footer",className:o},l)),a[5]=o,a[6]=l,a[7]=s):s=a[7],s}},87959:function(k,G,r){r.d(G,{Z:function(){return p}});var B=r(97857),M=r.n(B),S=r(13769),t=r.n(S),N=r(68827),$=r(67294),R=r(12780),x=r(72126),Z=r(85893),z=["className","orientation","decorative"];function p(U){var _=(0,N.c)(12),y,n,b,j;if(_[0]!==U){var E=U;b=E.className,y=E.orientation,n=E.decorative,j=t()(E,z),_[0]=U,_[1]=y,_[2]=n,_[3]=b,_[4]=j}else y=_[1],n=_[2],b=_[3],j=_[4];var D=y===void 0?"horizontal":y,W=n===void 0?!0:n,P;_[5]!==b?(P=(0,x.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",b),_[5]=b,_[6]=P):P=_[6];var K;return _[7]!==W||_[8]!==D||_[9]!==P||_[10]!==j?(K=(0,Z.jsx)(R.f,M()({"data-slot":"separator",decorative:W,orientation:D,className:P},j)),_[7]=W,_[8]=D,_[9]=P,_[10]=j,_[11]=K):K=_[11],K}},87033:function(k,G,r){r.d(G,{O:function(){return Z}});var B=r(97857),M=r.n(B),S=r(13769),t=r.n(S),N=r(68827),$=r(72126),R=r(85893),x=["className"];function Z(z){var p=(0,N.c)(8),U,_;if(p[0]!==z){var y=z;U=y.className,_=t()(y,x),p[0]=z,p[1]=U,p[2]=_}else U=p[1],_=p[2];var n;p[3]!==U?(n=(0,$.cn)("bg-accent animate-pulse rounded-md",U),p[3]=U,p[4]=n):n=p[4];var b;return p[5]!==n||p[6]!==_?(b=(0,R.jsx)("div",M()({"data-slot":"skeleton",className:n},_)),p[5]=n,p[6]=_,p[7]=b):b=p[7],b}},85677:function(k,G,r){r.d(G,{LF:function(){return $},Fk:function(){return y},Hw:function(){return f},jN:function(){return U},BE:function(){return a}});var B=r(68827),M=r(61204),S=r(67294),t=r(85893),N={1:{labelId:"orders.detail.goodsTypeLabels.autoDelivery",color:"text-green-600"},2:{labelId:"orders.detail.goodsTypeLabels.manualProcessing",color:"text-blue-600"}};function $(s){var e=(0,B.c)(6),c=s.type,g=(0,M.useIntl)(),u=N[c]||N[1],m;e[0]!==u.labelId||e[1]!==g?(m=g.formatMessage({id:u.labelId}),e[0]=u.labelId,e[1]=g,e[2]=m):m=e[2];var h;return e[3]!==u.color||e[4]!==m?(h=(0,t.jsx)("span",{className:u.color,children:m}),e[3]=u.color,e[4]=m,e[5]=h):h=e[5],h}var R=null,x=r(87030),Z=r(87959),z=r(19252),p={0:{id:"orders.status.unknown",variant:"secondary",color:"text-gray-600"},1:{id:"orders.status.pending",variant:"secondary",color:"text-orange-600"},2:{id:"orders.status.processing",variant:"outline",color:"text-purple-600"},3:{id:"orders.status.completed",variant:"default",color:"text-green-600"},4:{id:"orders.status.refunded",variant:"destructive",color:""}};function U(s){var e=(0,B.c)(9),c=s.status,g=(0,M.useIntl)(),u=c!=null?c:0,m=p[u]||p[0],h;e[0]!==m.id||e[1]!==g?(h=g.formatMessage({id:m.id}),e[0]=m.id,e[1]=g,e[2]=h):h=e[2];var T=h,v=m.variant,O;e[3]!==m.color||e[4]!==T?(O=(0,t.jsx)("span",{className:m.color,children:T}),e[3]=m.color,e[4]=T,e[5]=O):O=e[5];var I;return e[6]!==v||e[7]!==O?(I=(0,t.jsx)(z.C,{variant:v,className:"text-sm",children:O}),e[6]=v,e[7]=O,e[8]=I):I=e[8],I}var _=U;function y(s){var e=(0,B.c)(51),c=s.order,g=s.children,u=(0,M.useIntl)(),m;e[0]!==c.order_sn?(m=(0,t.jsx)(x.ll,{className:"text-base",children:c.order_sn}),e[0]=c.order_sn,e[1]=m):m=e[1];var h;e[2]!==c.status?(h=(0,t.jsx)(_,{status:c.status}),e[2]=c.status,e[3]=h):h=e[3];var T;e[4]!==m||e[5]!==h?(T=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[m,h]}),e[4]=m,e[5]=h,e[6]=T):T=e[6];var v;e[7]!==c.email?(v=(0,t.jsx)(x.SZ,{children:c.email}),e[7]=c.email,e[8]=v):v=e[8];var O;e[9]!==T||e[10]!==v?(O=(0,t.jsxs)(x.Ol,{className:"pb-3",children:[T,v]}),e[9]=T,e[10]=v,e[11]=O):O=e[11];var I;e[12]!==c.title||e[13]!==u?(I=c.title||u.formatMessage({id:"orders.detail.card.productName"}),e[12]=c.title,e[13]=u,e[14]=I):I=e[14];var C;e[15]!==I?(C=(0,t.jsx)("span",{className:"text-muted-foreground",children:I}),e[15]=I,e[16]=C):C=e[16];var J;e[17]!==c.actual_price?(J=(0,t.jsxs)("span",{children:["\xA5",c.actual_price]}),e[17]=c.actual_price,e[18]=J):J=e[18];var w;e[19]!==C||e[20]!==J?(w=(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[C,J]})}),e[19]=C,e[20]=J,e[21]=w):w=e[21];var q;e[22]===Symbol.for("react.memo_cache_sentinel")?(q=(0,t.jsx)(Z.Z,{}),e[22]=q):q=e[22];var L;e[23]!==u?(L=u.formatMessage({id:"orders.detail.card.time"}),e[23]=u,e[24]=L):L=e[24];var V;e[25]!==L?(V=(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:L}),e[25]=L,e[26]=V):V=e[26];var Y;e[27]!==c.created_at?(Y=(0,t.jsx)("span",{className:"text-sm",children:c.created_at}),e[27]=c.created_at,e[28]=Y):Y=e[28];var Q;e[29]!==V||e[30]!==Y?(Q=(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[V,Y]}),e[29]=V,e[30]=Y,e[31]=Q):Q=e[31];var F;e[32]!==u?(F=u.formatMessage({id:"orders.detail.card.total"}),e[32]=u,e[33]=F):F=e[33];var H;e[34]!==F?(H=(0,t.jsx)("span",{children:F}),e[34]=F,e[35]=H):H=e[35];var X;e[36]!==c.actual_price?(X=(0,t.jsxs)("span",{className:"text-lg",children:["\xA5",c.actual_price]}),e[36]=c.actual_price,e[37]=X):X=e[37];var A;e[38]!==H||e[39]!==X?(A=(0,t.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[H,X]}),e[38]=H,e[39]=X,e[40]=A):A=e[40];var ee;e[41]!==g?(ee=(0,t.jsx)("div",{className:"flex space-x-2 pt-2",children:g}),e[41]=g,e[42]=ee):ee=e[42];var ae;e[43]!==w||e[44]!==Q||e[45]!==A||e[46]!==ee?(ae=(0,t.jsxs)(x.aY,{className:"space-y-3",children:[w,q,Q,A,ee]}),e[43]=w,e[44]=Q,e[45]=A,e[46]=ee,e[47]=ae):ae=e[47];var se;return e[48]!==O||e[49]!==ae?(se=(0,t.jsxs)(x.Zb,{children:[O,ae]}),e[48]=O,e[49]=ae,e[50]=se):se=e[50],se}var n=r(15009),b=r.n(n),j=r(99289),E=r.n(j),D=r(5574),W=r.n(D),P=r(64712),K=r(57636),d=r(7367);function a(s){var e=s.order,c=s.mode,g=c===void 0?"guest":c,u=s.className,m=(0,d.Su)(),h=(0,d.oc)(),T=g==="user"?h.loading:m.loading,v=(0,d.Ew)(),O=(0,S.useState)(""),I=W()(O,2),C=I[0],J=I[1],w=(0,M.useIntl)();(0,S.useEffect)(function(){if(!C&&v.data&&Array.isArray(v.data)){var L=v.data[0];L!=null&&L.id&&J(L.id)}},[v.data]);var q=function(){var L=E()(b()().mark(function V(){var Y,Q,F,H;return b()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(Y={order_sn:e.order_sn},typeof C!="undefined"&&C!==null&&C!==""&&(Y.payway=Number(C)),!((!C||C==="")&&Array.isArray(v.data)&&v.data.length>0)){A.next=5;break}return P.Am.error(w.formatMessage({id:"orders.detail.selectPaymentMethod"})),A.abrupt("return");case 5:return A.prev=5,Q=g==="user"?h.fetch:m.fetch,A.next=9,Q(Y);case 9:F=A.sent,H=F==null?void 0:F.data.data,typeof H=="string"?(window.open(H,"_blank"),P.Am.success(w.formatMessage({id:"orders.detail.paymentStarted"}))):P.Am.success(w.formatMessage({id:"orders.detail.paymentCreated"})),A.next=18;break;case 14:A.prev=14,A.t0=A.catch(5),P.Am.error(w.formatMessage({id:"orders.detail.paymentFailed"})),console.error("create payment failed",A.t0);case 18:case"end":return A.stop()}},V,null,[[5,14]])}));return function(){return L.apply(this,arguments)}}();return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full ".concat(u!=null?u:""),children:[(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-2 sm:flex-1",children:v.loading?(0,t.jsx)("div",{className:"h-9 w-24 bg-gray-100 rounded"}):Array.isArray(v.data)?v.data.length===0?(0,t.jsx)("div",{className:"text-sm text-gray-500",children:w.formatMessage({id:"orders.detail.noPaymentMethods"})}):v.data.map(function(L){return(0,t.jsx)(K.z,{size:"sm",className:"min-w-[72px]",variant:String(C)===String(L.id)?"default":"outline",onClick:function(){return J(L.id||"")},children:L.name},L.id)}):null}),(0,t.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-4 flex-shrink-0 w-full sm:w-auto",children:(0,t.jsx)(K.z,{size:"sm",onClick:q,className:"w-full sm:w-auto",disabled:T||!Array.isArray(v.data)||Array.isArray(v.data)&&v.data.length===0,children:T?w.formatMessage({id:"orders.detail.processing"}):w.formatMessage({id:"orders.detail.payNow"})})})]})}var i=r(87033);function l(){var s=(0,B.c)(11),e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(i.O,{className:"h-4 w-24"}),s[0]=e):e=s[0];var c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[e,(0,t.jsx)(i.O,{className:"h-4 w-12"})]}),s[1]=c):c=s[1];var g;s[2]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsxs)(x.Ol,{className:"pb-3",children:[c,(0,t.jsx)(x.SZ,{children:(0,t.jsx)(i.O,{className:"h-3 w-1/2 mt-2"})})]}),s[2]=g):g=s[2];var u;s[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(i.O,{className:"h-3 w-2/3"}),s[3]=u):u=s[3];var m;s[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[u,(0,t.jsx)(i.O,{className:"h-4 w-12"})]})}),s[4]=m):m=s[4];var h;s[5]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(Z.Z,{}),s[5]=h):h=s[5];var T;s[6]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsx)(i.O,{className:"h-3 w-1/3"}),s[6]=T):T=s[6];var v;s[7]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[T,(0,t.jsx)(i.O,{className:"h-3 w-1/4"})]}),s[7]=v):v=s[7];var O;s[8]===Symbol.for("react.memo_cache_sentinel")?(O=(0,t.jsx)(i.O,{className:"h-4 w-24"}),s[8]=O):O=s[8];var I;s[9]===Symbol.for("react.memo_cache_sentinel")?(I=(0,t.jsxs)("div",{className:"flex justify-between items-center font-medium",children:[O,(0,t.jsx)(i.O,{className:"h-6 w-20"})]}),s[9]=I):I=s[9];var C;return s[10]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsxs)(x.Zb,{children:[g,(0,t.jsxs)(x.aY,{className:"space-y-3",children:[m,h,v,I,(0,t.jsx)("div",{className:"flex space-x-2 pt-2",children:(0,t.jsx)(i.O,{className:"h-8 w-full"})})]})]}),s[10]=C):C=s[10],C}function f(s){var e=(0,B.c)(5),c=s.count,g=c===void 0?3:c,u;if(e[0]!==g){var m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=function(v,O){return(0,t.jsx)(l,{},O)},e[2]=m):m=e[2],u=Array.from({length:g}).map(m),e[0]=g,e[1]=u}else u=e[1];var h;return e[3]!==u?(h=(0,t.jsx)("div",{className:"space-y-4",children:u}),e[3]=u,e[4]=h):h=e[4],h}var o=null},72126:function(k,G,r){r.d(G,{cn:function(){return S}});var B=r(90512),M=r(98388);function S(){for(var t=arguments.length,N=new Array(t),$=0;$<t;$++)N[$]=arguments[$];return(0,M.m6)((0,B.W)(N))}}}]);
